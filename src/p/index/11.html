<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <meta name="format-detection" content="telephone=no"/>
    <title>Demo Page 11</title>
    <link type="text/css" rel="stylesheet" href="./index.css" inline>
    <style type="text/css">
    html,body{
        margin: 0;
        padding: 0;
        background-color: #001122;
        width: 100%;
        height: 100%;
        line-height: 0;
        font-size: 0;
    }
    html,body svg{
        width: 100%;
        height: 100%;
    }
    </style>
</head>
<body>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox='-400 -300 800 600' preserveAspectRatio="xMidYMid slice">
	<defs>
		<polygon id='start' points='0 -10 2 -2 10 0 2 2 0 10 -2 2 -10 0 -2 -2' fill='#fff'></polygon>
	</defs>
	<g id="true" >
	 	<g id="start-group"></g>
	 	<g id="moon-group">
	 		<mask id="moon-mask">
	 			<circle cx='-250' cy='-150' r='100' fill='#fff'></circle>
	 			<circle cx='-200' cy='-200' r='100' fill='#000'></circle>
	 		</mask>
	 		<circle cx='-250' cy='-150' r='100' fill='#ff0' mask='url(#moon-mask)'></circle>
	 	</g>
	 	<g id="light-tower" transform='translate(250,0)'>
		 	<defs>
				<linearGradient id='aaa' x1='0' y1='0' x2='1' y2='0'> 
	                <stop offset='0' stop-color='#999'></stop>
	                <stop offset='1' stop-color='#333'></stop>
	            </linearGradient>
				<radialGradient id='bbb' cx='0.5' cy='0.5' r='0.5'> 
	                <stop offset='0' stop-color='rgba(255,255,255,0.8)'></stop>
	                <stop offset='1' stop-color='rgba(255,255,255,0)'></stop>
	            </radialGradient>
	            <clipPath id='light-clip' transform='translate(0,-50)'>
					<polygon points='0 0 -320 -15 -320 15' fill='#f00'>
						<animateTransform
							attributeName='transform'
							attributeType='XML'
							type='rotate'
							from='0'
							to='360'
							dur='10s'
							repeatCount='indefinite'
						></animateTransform>
					</polygon>
					<circle cx='0' cy='0' r='2'></circle>
	            </clipPath>
			</defs>
			<polygon points='0 -50 10 50 -10 50' fill='url(#aaa)'></polygon>
			<ellipse cx='0' cy='-50' rx='300' ry='100' fill='url(#bbb)' clip-path='url(#light-clip)'></ellipse>
	 	</g>
	</g>
	<g id="false" transform="translate(0 50)"  mask='url(#moon)'>
		<mask id="moon">
			<defs>
				<linearGradient id='ccc' x1='0' y1='0' x2='0' y2='1'> <!-- x1 y1 x2 y2 设置了两个端点坐标 -->
	                <stop offset='0' stop-color='rgba(255,255,255,0.3)'></stop>
	                <stop offset='0.5' stop-color='rgba(255,255,255,0)'></stop>
	            </linearGradient>
			</defs>
			<rect x='-400' y='0' width='800' height='300' fill='url(#ccc)'></rect>
		</mask>
		<use xlink:href="#true" transform="scale(1,-1) translate(0 -50)"></use>
	</g>

	<path d="M 1200 50 H -1200 50" stroke="rgb(255,255,255)" fill="none" ><path>
</svg>
<script>
	var SVG_NS = 'http://www.w3.org/2000/svg';
	var XLINK_NS = 'http://www.w3.org/1999/xlink';
	var paper = document.querySelector('svg');
	renderStart();
	function use(startRef){
		var _use = document.createElementNS(SVG_NS,'use');
		_use.setAttributeNS(XLINK_NS,'xlink:href','#'+startRef.id);
		return _use;
	}
	function random(min,max){
		return min + (max - min) * Math.random();
	}
	function renderStart(){
		var startRef = document.getElementById('start');
		var startGroup = document.getElementById('start-group');
		var startCount = 500;//定义多少颗
		var start;
		while(startCount--){
			start = use(startRef);
			start.setAttribute('transform','translate('+random(-400,400)+','+random(-300,50)+')'+'scale('+random(0.1,0.6)+')');
			start.setAttribute('opacity',random(0.1,0.7));
			startGroup.appendChild(start);
		}
	}
</script>
</body>
</html>
